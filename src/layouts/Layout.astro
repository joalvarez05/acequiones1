---
import Footer from "@/components/elements/Footer.astro";
import Navbar from "@/components/elements/Navbar.astro";

export interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <link
      rel="preload"
      href="/images/lemon-card.webp"
      as="image"
      type="image/webp"
      fetchpriority="high"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="author" content="Alvarez Domínguez José Agustín" />
    <link rel="canonical" href="https://acequiones.vercel.app/" />
    <meta name="robots" content="index, follow" />
    <meta name="geo.placename" content="Argentina" />
    <meta name="geo.region" content="AR" />
    <meta name="geo.position" content="-26.830584, -65.203842" />
    <meta name="ICBM" content="-26.830584, -65.203842" />
    <meta
      name="keywords"
      content="Acequiones, limones frescos, exportación de limones, comercio internacional de limones, limones premium, proveedor de limones, limones Argentina,limones EEUU,limones Rusia, venta de limones, limones de calidad, exportación de frutas, comercio global de limones, precio limon."
    />
    <meta name="description" content={description} />
    <meta
      property="og:image"
      content="https://acequiones.vercel.app/logo-negro.svg"
    />
    <meta property="og:title" content="Acequiones - Exportación de Limones" />
    <meta
      property="og:description"
      content="🍋 Mejor empaque 2025 🍋. Producimos y exportamos los limones más frescos y de alta calidad de Argentina. ¡Descúbrelos! 🚀"
    />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="es_AR" />
    <meta property="og:url" content="https://acequiones.vercel.app/" />
    <link rel="icon" type="image/svg+xml" href="/logo-blanco.svg" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YB0LTJKJ1Z"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-YB0LTJKJ1Z");
    </script>
    <meta name="generator" content={Astro.generator} />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"
    ></script>
    <title>Acequiones · {title}</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="overflow-hidden overflow-y-auto bg-body">
    <Navbar />
    <slot />
    <Footer />

    <script>
      const switchTheme = document.querySelector(
        "[data-switch-theme]"
      ) as HTMLButtonElement;

      if (
        localStorage.getItem("appTheme") === "dark" ||
        (!("appTheme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
      if (switchTheme) {
        switchTheme.addEventListener("click", (e) => {
          e.preventDefault();
          const doc = document.documentElement;
          if (doc) {
            if (localStorage.getItem("appTheme")) {
              if (localStorage.getItem("appTheme") === "light") {
                doc.classList.add("dark");
                localStorage.setItem("appTheme", "dark");
              } else {
                document.documentElement.classList.remove("dark");
                localStorage.setItem("appTheme", "light");
              }
            } else {
              if (doc.classList.contains("dark")) {
                doc.classList.remove("dark");
                localStorage.setItem("appTheme", "light");
              } else {
                doc.classList.add("dark");
                localStorage.setItem("appTheme", "dark");
              }
            }
          }
        });
      }
    </script>

    <!-- Menú de Navegación Scripts -->
    <script>
      const toggleMenu = document.querySelector(
        "[data-toggle-nav]"
      ) as HTMLButtonElement;
      const navbar = document.querySelector("[data-navbar]") as HTMLDivElement;
      const overlayNav = document.querySelector(
        "[data-nav-overlay]"
      ) as HTMLDivElement;
      if (toggleMenu) {
        toggleMenu.addEventListener("click", (e) => {
          e.preventDefault();
          if (toggleMenu.getAttribute("data-open-nav") === "false") {
            toggleMenu.setAttribute("data-open-nav", "true");
            overlayNav.setAttribute("data-is-visible", "true");
            document.body.classList.add("!overflow-y-hidden");
            navbar.style.height = `${navbar.scrollHeight}px`;
          } else {
            toggleMenu.setAttribute("data-open-nav", "false");
            overlayNav.setAttribute("data-is-visible", "false");
            document.body.classList.remove("!overflow-y-hidden");
            navbar.style.height = "0px";
          }
        });

        navbar.addEventListener("click", () => {
          toggleMenu.setAttribute("data-open-nav", "false");
          overlayNav.setAttribute("data-is-visible", "false");
          document.body.classList.remove("!overflow-y-hidden");
          navbar.style.height = "0px";
        });

        overlayNav.addEventListener("click", () => {
          toggleMenu.setAttribute("data-open-nav", "false");
          overlayNav.setAttribute("data-is-visible", "false");
          document.body.classList.remove("!overflow-y-hidden");
          navbar.style.height = "0px";
        });
      }
    </script>
  </body>
</html>

<style is:global>
  :root {
    --color-bg: 255 255 255;
    --color-border: 255 255 255;
    --color-box: 255 255 255;
    --box-border: 229 231 235;
    --box-sd: 226 232 240 / 0.5;
    --heading-1: 23 37 84;
    --heading-2: 31 41 55;
    --heading-3: 55 65 81;
  }

  .dark {
    --color-bg: 3 7 18;
    --color-box: 17 24 39;
    --box-border: 243 244 246/0.1;
    --box-sd: transparent;

    --heading-1: 255 255 255;
    --heading-2: 243 244 246;
    --heading-3: 209 213 219;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: "Lora", sans-serif;
  }

  [data-toggle-nav][data-open-nav="true"] #line1 {
    transform: translateY(0.375rem) rotate(40deg);
  }
  [data-toggle-nav][data-open-nav="true"] #line2 {
    transform: scaleX(0);
    opacity: 0;
  }
  [data-toggle-nav][data-open-nav="true"] #line3 {
    transform: translateY(-0.375rem) rotate(-40deg);
  }

  [data-nav-overlay][data-is-visible="true"] {
    visibility: visible;
    display: flex;
  }
</style>
