---
import Fade from "@/components/fadeUp/Fade.astro";
import Container from "@/components/shared/Container.astro";
---

<section class="relative mt-12 md:mt-16">
  <Container>
    <Fade>
      <div
        class="mx-auto p-5 sm:p-6 py-6 sm:py-8 max-w-6xl rounded-3xl bg-box-bg border border-box-border shadow-lg shadow-box-shadow md:divide-x divide-box-border grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8 md:gap-0"
      >
        <div class="text-center">
          <h4
            class="font-semibold text-2xl sm:text-2xl md:text-4xl text-emerald-300"
          >
            + 4
          </h4>
          <p class="mt-2 text-2xl sm:text-2xl md:text-4xl text-heading-2">
            Países
          </p>
        </div>
        <div class="text-center">
          <h4
            class="font-semibold text-2xl sm:text-2xl md:text-3xl text-emerald-300"
          >
            + 3
          </h4>
          <p class="mt-2 text-heading-2 text-2xl sm:text-2xl md:text-4xl">
            Certificaciones
          </p>
        </div>
        <div class="text-center">
          <h2
            class="font-semibold text-2xl sm:text-2xl md:text-4xl text-emerald-300"
            id="number1"
          >
            500
          </h2>
          <p class="mt-2 text-heading-2 text-2xl sm:text-2xl md:text-4xl">
            Empleados
          </p>
          <p class="text-heading-2 text-2xl sm:text-2xl md:text-4xl">
            en temporada
          </p>
        </div>
        <!-- argenti lemon sa -->
        <div class="text-center">
          <h2
            class="font-semibold text-2xl sm:text-2xl md:text-4xl text-emerald-300"
          >
            + 5
          </h2>
          <p class="mt-2 text-2xl sm:text-2xl md:text-4xl text-heading-2">
            Años exportando fruta
          </p>
        </div>
      </div>
    </Fade>
  </Container>
</section>

<script>
  import { CountUp } from "countup.js";

  const options = {
    startVal: 0,
    duration: 3,
  };

  const countUp1 = new CountUp("number1", 500, { ...options });

  // Función para manejar la intersección
  function handleIntersection(entries, observer) {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        countUp1.start();
        observer.unobserve(entry.target);
      }
    });
  }

  const observer = new IntersectionObserver(handleIntersection, {
    root: null,
    threshold: 0.5,
  });

  const target = document.getElementById("number1");
  if (target) {
    observer.observe(target);
  }
</script>
